# My account VIP - خادم تسجيل الدخول المحلي

هذا المستند يشرح كيفية تشغيل خادم تسجيل الدخول المحلي لموقع My account VIP.

## المتطلبات

- Node.js مثبت على جهازك
- npm أو yarn

## تشغيل الخادم

1. افتح الطرفية (Terminal) أو موجه الأوامر (Command Prompt)
2. انتقل إلى مجلد المشروع
3. قم بتثبيت الاعتماديات المطلوبة:
   ```
   npm install
   ```
4. قم بتشغيل الخادم المحلي باستخدام أحد الأمرين التاليين:
   ```
   npm run start-server
   ```
   أو
   ```
   npm run dev-server
   ```
   (الأمر الثاني يستخدم nodemon لإعادة تشغيل الخادم تلقائيًا عند تغيير الملفات)

5. افتح المتصفح على العنوان: `http://localhost:3000`

## حسابات المستخدمين الافتراضية

يحتوي الخادم على حسابين افتراضيين للاختبار:

1. حساب المدير:
   - البريد الإلكتروني: `admin@myaccountvip.com`
   - كلمة المرور: `admin123`

2. حساب المستخدم:
   - البريد الإلكتروني: `user@example.com`
   - كلمة المرور: `user123`

## واجهة برمجة التطبيقات (API)

يوفر الخادم الواجهات التالية:

### تسجيل الدخول
- الطريقة: POST
- المسار: `/api/login`
- البيانات:
  ```json
  {
    "email": "user@example.com",
    "password": "user123"
  }
  ```
- الاستجابة الناجحة:
  ```json
  {
    "success": true,
    "message": "تم تسجيل الدخول بنجاح",
    "user": {
      "id": "2",
      "email": "user@example.com",
      "displayName": "مستخدم تجريبي",
      "role": "user",
      "points": 500
    }
  }
  ```

### إنشاء حساب جديد
- الطريقة: POST
- المسار: `/api/register`
- البيانات:
  ```json
  {
    "email": "newuser@example.com",
    "password": "newpassword",
    "displayName": "مستخدم جديد"
  }
  ```
- الاستجابة الناجحة:
  ```json
  {
    "success": true,
    "message": "تم إنشاء الحساب بنجاح",
    "user": {
      "id": "3",
      "email": "newuser@example.com",
      "displayName": "مستخدم جديد",
      "role": "user",
      "points": 100
    }
  }
  ```

### إعادة تعيين كلمة المرور
- الطريقة: POST
- المسار: `/api/reset-password`
- البيانات:
  ```json
  {
    "email": "user@example.com"
  }
  ```
- الاستجابة الناجحة:
  ```json
  {
    "success": true,
    "message": "تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني"
  }
  ```

## ملاحظات

- هذا الخادم مخصص للاختبار المحلي فقط ولا يجب استخدامه في بيئة الإنتاج
- كلمات المرور يتم تخزينها بشكل مشفر باستخدام خوارزمية SHA-256
- في التطبيق الحقيقي، يجب استخدام قاعدة بيانات حقيقية بدلاً من المصفوفة المستخدمة هنا
